{% extends "base.html" %}
{% load crispy_forms_tags %}
{% load static %}

{% block content %}

<!-- User profile template: https://bbbootstrap.com/snippets/bootstrap-5-myprofile-90806631# -->
<div class="container rounded bg-white mt-5 mb-5">
    <div class="row">
        <div class="col-lg-3 border-right">
            <div class="d-flex flex-column align-items-center text-center p-3 pb-5">
                <div class="mb-5">
                    {% if "placeholder" in current_user.profile_pic.url %}
                    <img src="{% static 'images/default_profile_pic.jpg' %}" class="rounded-circle mt-5" width="150px" alt="placeholder">
                    {% else %}
                    <img src="{{ current_user.profile_pic.url }}" class="rounded-circle mt-5" width="150px" alt="{{ current_user.user }}">
                    {% endif %}
                </div>
                <span class="font-weight-bold">{{ name }}</span>
                <span class="text-black-50">{{ email }}</span>
            </div>
        </div>
        <div class="col-md-6 col-lg-5 border-right">
            <div class="p-3 py-5">

                    <div class="row mt-3">
                        <div class="col-md-12">
                            <h6 class="profile-heading">Date of birth</h6>
                            {% if current_user.date_of_birth %}
                            <p>{{ current_user.date_of_birth }}</p>
                            {% else %}
                            <p>{{ default_text }}</p>
                            {% endif %}
                        </div>
                        <div class="col-md-12">
                            <h6 class="profile-heading">Recent or chronic injuries</h6>
                            {% if current_user.injuries %}
                            <p>{{ current_user.injuries }}</p>
                            {% else %}
                            <p>{{ default_text }}</p>
                            {% endif %}
                        </div>
                        <div class="col-md-12">
                            <h6 class="profile-heading">Waiver signed</h6>
                            {% if current_user.signed_waiver %}
                            <p>Yes</p>
                            {% else %}
                            <p>No</p>
                            {% endif %}
                        </div>
                    </div>

                    <div class="mt-5 text-center">
                        <a data-mdb-ripple-init class="btn btn-dark" href="{% url 'edit_profile' user.id %}" role="button">Edit profile</a>
                    </div>
            </div>
        </div>
        <div class=" col-md-6 col-lg-4">
            <div class="p-3 py-5">
                <div class="d-flex justify-content-between align-items-center">
                    <span class="profile-heading">My bookings</span>
                    <span class="border px-1 ph4 -1 book-class profile-heading">
                        <a class="btn" href="{% url 'class_schedule' %}">
                            <i class="fa fa-plus"></i>&nbsp;Book a class
                        </a>
                    </span>
                </div>
                <br>
                <div id="list_bookings" class="col-md-12">
                    <!-- Client's booked classes are listed here -->
                </div>
            </div>
        </div>
    </div>

    {% endblock %}